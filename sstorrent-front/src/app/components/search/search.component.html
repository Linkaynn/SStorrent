<div class="container">
  <form class="form-control" [formGroup]="searchForm">
    <div class="row">
      <div class="col-4">
        <input class="form-control" type="text" name="value" [(ngModel)]="value" formControlName="value" (keyup.enter)="search()">
      </div>
      <div class="col-6">
        <select class="form-control" name="mirror" *ngIf="currentUser().mirrors.length > 0" [(ngModel)]="mirror" formControlName="mirror">
          <option *ngFor="let mirror of currentUser().mirrors" value="{{mirror}}">{{mirror}}</option>
        </select>
      </div>
      <div class="col-2">
        <button type="button" class="btn btn-primary" name="button" [disabled]="!isValidSearch()" (click)="search()">Search</button>
      </div>
    </div>
  </form>

  <table class="table table-bordered" *ngIf="torrents != null && torrents.length > 0">
    <thead class="thead-inverse">
      <tr>
        <th>Name</th>
        <th>Date</th>
        <th>Leechers</th>
        <th>Seeders</th>
        <th>Size</th>
        <th>Link</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let torrent of torrents">
        <td><a>{{torrent.name}}</a></td>
        <td><a>{{torrent.date}}</a></td>
        <td><a>{{torrent.leechers}}</a></td>
        <td><a>{{torrent.seeders}}</a></td>
        <td><a>{{torrent.size}}</a></td>
        <td><a class="bold brand-color link" (click)="retrieveLink(torrent)">Link</a></td>
      </tr>
    </tbody>
  </table>
</div>
